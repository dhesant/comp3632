
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Comp3632 Crib Dragging Attacker</title>

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <script type="text/javascript">
      $.fn.xor = function(x , y) {
      var z = "";
      var len = x.length > y.length ? x.length : y.length
      for (var i = 0; i < len; ++i) {
	z += String.fromCharCode(x.charCodeAt(i) ^ y.charCodeAt(i));
			  }
			  this.val(z);
      return this;
      };
      
      $(function() {
      jQuery.ajaxSetup({async:false});
      
      $.get("ptext12.txt", function(data) {
      $("#ptext12").val(data);
      });

			  $("#ptext1").on("change keyup paste", function() {
			  $("#ptext2").xor($(this).val(), $("#ptext12").val());
			  });
      });
			  
    </script>
        
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-static-top" role="navigation">
      <div class="container">
	<div class="navbar-header">
	  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	    <span class="sr-only">Toggle navigation</span>
	    <span class="icon-bar"></span>
	    <span class="icon-bar"></span>
	    <span class="icon-bar"></span>
	  </button>
	  <a class="navbar-brand" href="#">Comp3632 Crib Dragging Attack</a>
	</div>
      </div>
    </div>

    <div class="container">
      <div class="row">
	<div class="col-xs-12" align="center">
	  <form>
	    <div class="form-group">
	      <label for="ptext12">Plaintext 1 XOR Plaintext 2</label>
	      <textarea type="text" class="form-control" rows=6 id="ptext12" readonly="readonly"></textarea>
	    </div>
	    <div class="form-group">
	      <label for="ptext1">Plaintext 1</label>
	      <textarea type="text" class="form-control" rows=6 id="ptext1"></textarea>
	    </div>
	    <div class="form-group">
	      <label for="ptext2">Plaintext 2</label>
	      <textarea type="text" class="form-control" rows=6 id="ptext2" readonly="readonly"></textarea>
	    </div>
	  </form>
	</div>
      <footer>
	<p><small>Dhesant Nakka 2017</small></p>
      </footer>
    </div>
    <!-- /container -->
  </body>
</html>
